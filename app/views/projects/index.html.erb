<% provide(:head_title, t("projects.index.head_title")) %>
<% provide(:sidebar_title, t("projects.index.navigation_title")) %>
<% provide(:sidebar_url, sidebar_team_path(current_team, project_folder_id: @current_folder&.id)) %>
<% provide(:container_class, 'no-second-nav-container') %>
<% mode = params[:archived] ? :archived : :active %>

<%= content_for :sidebar do %>
  <%= render partial: 'shared/sidebar/projects', locals: { team: current_team } if current_team %>
<% end %>

<% content_for :breadcrumbs do %>
  <%= render partial: 'projects/index/breadcrumbs' if @current_folder %>
<% end %>

<div class="content-pane flexible <%= mode %> projects-index" data-mode="<%= mode %>">
  <%= render partial: 'projects/index/header' %>

  <span style="display: none;" data-hook="projects-index-html"></span>

  <%= render partial: 'projects/index/modals/new_project' %>
  <%= render partial: 'projects/index/modals/edit_project' %>
  <%= render partial: 'projects/index/modals/manage_users' %>
  <%= render partial: 'projects/index/modals/export_projects' %>

  <div class="projects-container">
    <%= render partial: 'projects/index/toolbar' %>
    <div class="cards-wrapper" id="cards-wrapper" data-projects-cards-url="<%= @current_folder ? project_folder_cards_url(@current_folder) : cards_projects_url %>">
      <div class="table-header">
        <div class="table-header-cell select-all-checkboxes">
          <div class="sci-checkbox-container">
            <input value="1" type="checkbox" class="sci-checkbox select-all">
            <span class="sci-checkbox-label"></span>
          </div>
        </div>
        <div class="table-header-cell"><%= t('.card.name') %></div>
        <div class="table-header-cell"><%= t('.card.start_date') %></div>
        <div class="table-header-cell"><%= t('.card.visibility') %></div>
        <div class="table-header-cell"><%= t('.card.users') %></div>
        <div class="table-header-cell"></div>
      </div>
    </div>
  </div>
</div>

<%= javascript_include_tag "projects/index" %>
